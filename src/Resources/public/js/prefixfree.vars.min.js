(function(){if(!window.StyleFix||!window.PrefixFree){return}var b=PrefixFree.prefix,d=document.createElement("_").style;d.cssText="--foo: red; background: var(--foo);";if(d.background){return}var c={};varUsage=function(f,k,j){var e="",h,i,g;if(j){j=j.replace(/var\(\s*--([\w-]+)\s*(?:,(.*))?\)/gi,varUsage);g=j.indexOf(")");i=j.indexOf("(");if(g>-1&&((g<i)||i==-1)){h=j.match(/([^)]*)\)(.*)/);if(h){j=h[1];e=h[2]+")"}}}else{j="initial"}return(c[k]||j)+e},varFix=function(g,e,f){return g.replace(/var\(\s*--([\w-]+)\s*(?:,(.*))?\)/gi,varUsage)||g},styleElement=function(f){if(f.hasAttribute("data-noprefix")){return}var e=f.disabled;f.textContent=varFix(f.textContent,true,f);f.disabled=e},styleAttribute=function(f){var e=f.getAttribute("style");e=varFix(e,false,f);f.setAttribute("style",e)},secondPass=function(){a("style").forEach(styleElement);a("[style]").forEach(styleAttribute)};StyleFix.register(function(e){return e.replace(/(?:^|\{|\s|;)--([\w-]+)\s*:([^;}]+)/gi,function(f,h,g){c[h]=g;return f})},1);document.addEventListener("StyleFixProcessed",secondPass,false);function a(f,e){return[].slice.call((e||document).querySelectorAll(f))}})();